@startuml

skinparam monochrome true
hide circle
skinparam classAttributeIconSize 0

' Layout direction
left to right direction

' =====================
' ERROR CLASSES
' =====================
class NotEnoughSpecialsCardsError {
  +NotEnoughSpecialsCardsError(message: String): NotEnoughSpecialsCardsError
}

class NotEnoughUnitsCardsError {
  +NotEnoughUnitsCardsError(message: String): NotEnoughUnitsCardsError
}

class NotEnoughCardsInDeckError {
  +NotEnoughCardsInDeckError(message: String): NotEnoughCardsInDeckError
}

class InvalidCardAmountError {
  +InvalidCardAmountError(message: String): InvalidCardAmountError
}

class TheCardWasNotFound {
  +TheCardWasNotFound(message: String): TheCardWasNotFound
}

class SectionTypeMismatchError {
  +SectionTypeMismatchError(message: String): SectionTypeMismatchError
}

' =====================
' CLASSES THAT USE ERRORS
' =====================
class Deck {
  +Deck(cards: List<Card>): Deck
  +retrieveNRandomCards(n: int): List<Card>
}

class Hand {
  +getNCardsFromDeck(deck: Deck, n: int): void
}

class CardCollection {
  +retrieveCard(card: Card): Card
}

class Validate6SpecialCards {
  -MIN_SPECIALS: int
  +validate(cards: List<Card>): void
}

class Validate15UnitsCards {
  -MIN_UNITS: int
  +validate(cards: List<Card>): void
}

class Card {
  +Card(name: String, description: String, sectionTypes: List<SectionType>): Card
  +play(section: Section): void
  +verifySectionType(sectionType: SectionType): void
}

' =====================
' RELATIONSHIPS
' =====================
' Error usage relationships
Validate6SpecialCards ..> NotEnoughSpecialsCardsError : throws
Validate15UnitsCards ..> NotEnoughUnitsCardsError : throws

Deck ..> InvalidCardAmountError : throws
Deck ..> NotEnoughCardsInDeckError : throws
Deck ..> NotEnoughSpecialsCardsError : throws
Deck ..> NotEnoughUnitsCardsError : throws

Hand ..> InvalidCardAmountError : throws

CardCollection ..> TheCardWasNotFound : throws

Card ..> SectionTypeMismatchError : throws

' Error inheritance
InvalidCardAmountError --|> RuntimeException
NotEnoughSpecialsCardsError --|> RuntimeException
NotEnoughCardsInDeckError --|> RuntimeException
NotEnoughUnitsCardsError --|> RuntimeException
TheCardWasNotFound --|> RuntimeException
SectionTypeMismatchError --|> RuntimeException

@enduml 